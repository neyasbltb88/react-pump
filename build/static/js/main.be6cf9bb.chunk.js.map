{"version":3,"sources":["services/rand.js","services/random-name.js","components/btn/index.js","components/btn/btn.js","pages/main/index.js","pages/main/main.js","pages/pumping/index.js","pages/pumping/pumping.js","pages/pumped/index.js","pages/pumped/pumped.js","components/app/index.js","components/app/app.js","index.js"],"names":["rand","min","max","Math","floor","random","randomName","length","name","i","String","fromCharCode","Btn","props","onClick","label","disabled","className","Main","state","pumping","opened","ready","onPumpingClose","console","log","setState","window","open","addEventListener","main_state","this","Component","Pumping","lastTitle","pumpeds","closeAllPumpeds","pumped","close","oldPumpeds","document","title","openPumped","Pumped","App","path","component","exact","ReactDOM","render","getElementById"],"mappings":"4XAKeA,EALF,SAACC,EAAKC,GACf,IAAIF,EAAOG,KAAKC,MAAMH,EAAME,KAAKE,UAAYH,EAAM,EAAID,IACvD,OAAOD,GCSIM,EATI,WAEf,IAFiC,IAAjBC,EAAgB,uDAAP,GACrBC,EAAO,GACFC,EAAI,EAAGA,EAAIF,EAAQE,IACxBD,GAAQE,OAAOC,aAAaX,EAAK,GAAI,MAGzC,OAAOQ,GCNII,G,YCCH,SAACC,GAAW,IACZC,EAA6BD,EAA7BC,QAASC,EAAoBF,EAApBE,MAAOC,EAAaH,EAAbG,SAExB,OAAO,4BAAQC,UAAU,MAAMH,QAASA,EAASE,SAAUA,GAAYD,KCJ5DG,E,2MCMXC,MAAQ,CACJC,QAAS,KACTC,QAAQ,EACRC,OAAO,G,EAaXC,eAAiB,WACbC,QAAQC,IAAI,uEAEZ,EAAKC,SAAS,CACVN,QAAS,KACTC,QAAQ,EACRC,OAAO,K,EAIfR,QAAU,WACN,IAAIM,EAAUO,OAAOC,KAAK,WAAYtB,IAAc,aAGpDc,EAAQS,iBAAiB,eAAgB,EAAKN,gBAE9C,EAAKG,SAAS,CACVN,UACAC,QAAQ,K,mFA3BZM,OAAOG,WAAaC,KAAKZ,MACzBK,QAAQC,IAAI,aAAcM,KAAKZ,S,2CAI/BQ,OAAOG,WAAaC,KAAKZ,MACzBK,QAAQC,IAAI,aAAcM,KAAKZ,S,+BA0BzB,IACEE,EAAWU,KAAKZ,MAAhBE,OACR,OACI,yBAAKJ,UAAU,QACX,kBAAC,EAAD,CAAKH,QAASiB,KAAKjB,QAASC,MAAM,wFAAkBC,SAAUK,S,GA7C5CW,a,gPCJnBC,E,2MCOXd,MAAQ,CACJe,UAAW,GACXC,QAAS,I,EAoBbC,gBAAkB,WAAO,IACbD,EAAY,EAAKhB,MAAjBgB,QAER,IAAK,IAAME,KAAUF,EACjBA,EAAQE,GAAQC,S,4EApBpB,IAAI9B,EAAOF,IACP+B,EAASV,OAAOC,KAAK,UAAWpB,EAAM,aAE1CuB,KAAKL,UAAS,SAAAP,GAOV,MAAO,CACHgB,Q,yVANU,IADOhB,EAAfoB,WACQ,eAET/B,EAAO6B,U,0CAkBhB,IAAIH,EAAYM,SAASC,MACzBD,SAASC,MAAQ,iCAEjBV,KAAKL,SAAS,CACVQ,cAGJH,KAAKW,aAGLf,OAAOE,iBAAiB,eAAgBE,KAAKK,mB,6CAI7CI,SAASC,MAAQV,KAAKZ,MAAMe,Y,+BAI5B,OACI,kBAAC,WAAD,KACI,wCACA,kBAAC,EAAD,CAAKpB,QAASiB,KAAKK,gBAAiBrB,MAAM,yF,GAtDrBiB,aCLtBW,G,iNCGXxB,MAAQ,CACJe,UAAW,GACX1B,KAAM,I,mFAIN,IAAI0B,EAAYM,SAASC,MACzBD,SAASC,MAAQ,iCAEjBV,KAAKL,SAAS,CACVQ,YACA1B,KAAMmB,OAAOnB,S,6CAKjBgC,SAASC,MAAQV,KAAKZ,MAAMe,Y,+BAI5B,OACI,2C,GAvBwBF,cCDrBY,G,MCOH,WACR,OACI,yBAAK3B,UAAU,OACX,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAO4B,KAAK,IAAIC,UAAY5B,EAAO6B,OAAK,IAExC,kBAAC,IAAD,CAAOF,KAAK,YAAYC,UAAYb,IAEpC,kBAAC,IAAD,CAAOY,KAAK,WAAWC,UAAYH,QCZnDK,IAASC,OAAQ,kBAAC,EAAD,MAAWT,SAASU,eAAe,W","file":"static/js/main.be6cf9bb.chunk.js","sourcesContent":["const rand = (min, max) => {\r\n    let rand = Math.floor(min + Math.random() * (max + 1 - min));\r\n    return rand;\r\n}\r\n\r\nexport default rand;","import rand from './rand'\r\n\r\nconst randomName = (length = 10) => {\r\n    let name = '';\r\n    for (let i = 0; i < length; i++) {\r\n        name += String.fromCharCode(rand(97, 122));\r\n    }\r\n\r\n    return name;\r\n}\r\n\r\nexport default randomName;","import Btn from './btn';\r\n\r\nexport default Btn;","import React from 'react';\r\nimport './btn.css';\r\n\r\nconst Btn = (props) => {\r\n    const { onClick, label, disabled } = props;\r\n\r\n    return <button className=\"Btn\" onClick={onClick} disabled={disabled} >{label}</button>\r\n}\r\n\r\nexport default Btn;","import Main from './main';\r\n\r\nexport default Main;","import React, { Component } from 'react';\r\nimport { randomName } from '../../services'\r\nimport './main.css';\r\n\r\nimport Btn from '../../components/btn';\r\n\r\nexport default class Main extends Component {\r\n\r\n    state = {\r\n        pumping: null,\r\n        opened: false,\r\n        ready: false\r\n    };\r\n\r\n    componentDidMount() {\r\n        window.main_state = this.state;\r\n        console.log('main_state', this.state);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        window.main_state = this.state;\r\n        console.log('main_state', this.state);\r\n    }\r\n\r\n    onPumpingClose = () => {\r\n        console.log('Закрыт насос');\r\n\r\n        this.setState({\r\n            pumping: null,\r\n            opened: false,\r\n            ready: false\r\n        });\r\n    }\r\n\r\n    onClick = () => {\r\n        let pumping = window.open('/pumping', randomName(), 'resizable');\r\n        // pumping.onbeforeunload = () => this.onPumpingClose();\r\n\r\n        pumping.addEventListener('beforeunload', this.onPumpingClose);\r\n\r\n        this.setState({\r\n            pumping,\r\n            opened: true\r\n        });\r\n    }\r\n\r\n\r\n    render() {\r\n        const { opened } = this.state;\r\n        return (\r\n            <div className=\"Main\">\r\n                <Btn onClick={this.onClick} label=\"Запустить насос\" disabled={opened}/>\r\n            </div>\r\n        )\r\n    }\r\n}","import Pumping from './pumping';\r\n\r\nexport default Pumping;","import React, { Component, Fragment } from 'react';\r\nimport { randomName } from '../../services'\r\n\r\nimport Btn from '../../components/btn'\r\n\r\nimport './pumping.css';\r\n\r\nexport default class Pumping extends Component {\r\n\r\n    state = {\r\n        lastTitle: '',\r\n        pumpeds: {}\r\n    }\r\n\r\n    openPumped() {\r\n        let name = randomName();\r\n        let pumped = window.open('/pumped', name, 'resizable');\r\n\r\n        this.setState(state => {\r\n            let { oldPumpeds } = state;\r\n            let newPumpeds = {\r\n                ...oldPumpeds,\r\n                [name]: pumped\r\n            }\r\n\r\n            return {\r\n                pumpeds: newPumpeds\r\n            }\r\n        })\r\n    }\r\n\r\n    closeAllPumpeds = () => {\r\n        const { pumpeds } = this.state;\r\n        \r\n        for (const pumped in pumpeds) {\r\n            pumpeds[pumped].close();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        let lastTitle = document.title;\r\n        document.title = 'Насос';\r\n\r\n        this.setState({\r\n            lastTitle\r\n        });\r\n\r\n        this.openPumped();\r\n\r\n        // window.onbeforeunload = () => this.closeAllPumpeds();\r\n        window.addEventListener('beforeunload', this.closeAllPumpeds);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.title = this.state.lastTitle;\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                <div>Pumping</div>\r\n                <Btn onClick={this.closeAllPumpeds} label=\"Закрыть шарики\"></Btn>\r\n            </Fragment>\r\n        )\r\n    }\r\n}","import Pumped from './pumped';\r\n\r\nexport default Pumped;","import React, { Component } from 'react';\r\nimport './pumped.css';\r\n\r\nexport default class Pumped extends Component{\r\n\r\n    state = {\r\n        lastTitle: '',\r\n        name: ''\r\n    }\r\n\r\n    componentDidMount() {\r\n        let lastTitle = document.title;\r\n        document.title = 'Шарик';\r\n\r\n        this.setState({\r\n            lastTitle,\r\n            name: window.name\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.title = this.state.lastTitle;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>Pumped</div>\r\n        )\r\n    }\r\n}","import App from './app'\r\n\r\nexport default App","import React from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport Main from '../../pages/main';\nimport Pumping from '../../pages/pumping';\nimport Pumped from '../../pages/pumped';\n\nimport './app.css';\n\nconst App = () => {\n    return (\n        <div className=\"App\" >\n            <Router>\n                <Route path=\"/\" component={ Main } exact/>\n\n                <Route path=\"/pumping/\" component={ Pumping }/>\n\n                <Route path=\"/pumped/\" component={ Pumped }/>\n            </Router>\n        </div>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app';\n\nReactDOM.render( <App / > , document.getElementById('root'));"],"sourceRoot":""}